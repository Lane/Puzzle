<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
		<link href="http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700" rel="stylesheet" type="text/css">
		<link href="css/puzzle.css" rel="stylesheet" />
		<script src="js/libs/modernizr-2.6.2.min.js"></script>
        <script src="http://code.createjs.com/createjs-2013.02.12.min.js" type="text/javascript"></script>
        <script src="http://code.createjs.com/preloadjs-0.3.0.min.js" type="text/javascript"></script>
        <script src="http://code.createjs.com/tweenjs-0.4.1.min.js" type="text/javascript"></script>
        <script src="js/vendor/easeljs/filters/ColorFilter.js"></script>
        <script src="js/libs/ba-debug.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->
      
      	<div id="fullscreen" class="canvasHolder">
      		<canvas id="puzzleCanvas"></canvas>
      		<div id="loading-window" class="active">
				<h1 id="puzzle-title"></h1>
				<div class="loading-content-wrapper">
	      			<div class="puzzle-gif-holder">
						<img id="puzzle-gif" />
	      			</div>
	      			<p id="puzzle-intro"></p>
	      			<div class="puzzle-gestures-holder">
	      				<img id="puzzle-gestures" />
	      			</div>
      			</div>
      			<div class="puzzle-loader-actions">
      				<div id="loader"> 
      					<div id="progress-bar"></div>
      				</div>
					<a id="start" href="#" class="btn btn-start btn-disabled">Loading</a>
      			</div>
      		</div>
      		<div id="ntfy-window">
      			<a id="ntfy-close" href="#"><img src="assets/close.png" /></a>
      			<h2 id="ntfy-title"></h2>
				<p id="ntfy-message"></p>
      		</div>
      		<div id="nav">
      			<!-- <a id="fstoggle" href="#" class="btn btn-fullscreen">Fullscreen</a> -->
      			<a id="hint-toggle" href="#" class="btn btn-hint ctl-disabled">Show Hint</a>
      			<a id="validate-btn" href="#" class="btn btn-validate ctl-disabled">Submit Answer</a>
      		</div>
      		<p id="piece-label" class="inactive"></p>
      	</div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/libs/jquery-1.9.0.min.js"><\/script>')</script>
        <script src="js/utils.js"></script>
        <script src="js/Objects/Event.js"></script>
        <script src="js/Objects/Boundary.js"></script>
        <script src="js/Objects/PieceContainer.js"></script>
        <script src="js/Objects/Piece.js"></script>
        <script src="js/Objects/Point.js"></script>
        <script src="js/Model/Puzzle.js"></script>
        <script src="js/View/PuzzleView.js"></script>
        <script src="js/Controller/PuzzleController.js"></script>        
        <script src="js/PuzzleBuilder.js"></script>
        <script>

		debug.setLevel(0);
		//var debugPoints = true;
		var todo = true;
			
		$(document).ready(function() {


			var DinosauraPuzzle = {
				id: "dinosauria",
				title: "Dinosauria Puzzle",
				instructionText: "Move each piece into its corresponding place on the Dinosauria Tree.",
				instructionGif: "assets/tyrannosaurus/instructions.gif",
				instructionMouse: "assets/dinosauria/mouse-gestures.png",
				instructionTouch: "assets/dinosauria/touch-gestures.png",
				options: { 
					allowRotate: false, 
					allowHint: false, 
					showLabels: false, 
					snapAll: true, 
					snapRadius: 50, 
					showTitle: false 
				},
                background: { 
                	id : "background", 
                	src : "assets/dinosauria/background-lowres.gif" 
                },
                hint: { 
                	id : "hint", 
                	src: "assets/parasaurolophus/Hint-LR.png" 
                },
                sounds: [
                    { id: "snap", mp3 : "assets/trex/sounds/snap3.mp3", ogg : "assets/trex/sounds/snap3.ogg" },
                    { id: "success", mp3 : "assets/trex/sounds/Dinosaur_Growl.mp3", ogg : "assets/trex/sounds/Dinosaur_Growl.ogg" }
                ],
                pieces: [
                    { 
                    	id: 'theropods', 
                    	name: 'Theropods', 
                    	src: 'assets/dinosauria/Normal-NR-Theropods.png', 
                    	hover: 'assets/dinosauria/hover-NR-Theropods.png', 
                    	selected: 'assets/dinosauria/selected-NR-Theropods.png', 
                    	zindex: 10
                    },
					{ 
						id: 'stegasaurs', 
						name: 'Stegasaurs', 
						src: 'assets/dinosauria/Normal-NR-Stegasaurs.png', 
						hover: 'assets/dinosauria/hover-NR-Stegasaurs.png', 
						selected: 'assets/dinosauria/selected-NR-Stegasaurs.png', 
						zindex: 9
					},
					{ 
						id: 'sauropods', 
						name: 'Sauropods', 
						src: 'assets/dinosauria/Normal-NR-Sauropods.png', 
						hover: 'assets/dinosauria/hover-NR-Sauropods.png', 
						selected: 'assets/dinosauria/selected-NR-Sauropods.png', 
						zindex: 8
					},
					{ 
						id: 'saurischian-hips', 
						name: 'SaurischianHips', 
						src: 'assets/dinosauria/Normal-NR-SaurischianHips.png', 
						hover: 'assets/dinosauria/hover-NR-SaurischianHips.png', 
						selected: 'assets/dinosauria/selected-NR-SaurischianHips.png', 
						zindex: 7
					},
					{ 
						id: 'pachycephalosaurs', 
						name: 'Pachycephalosaurs', 
						src: 'assets/dinosauria/Normal-NR-Pachycephalosaurs.png', 
						hover: 'assets/dinosauria/hover-NR-Pachycephalosaurs.png', 
						selected: 'assets/dinosauria/selected-NR-Pachycephalosaurs.png', 
						zindex: 6
					},
					{ 
						id: 'ornithiscian-hips', 
						name: 'OrnithiscianHips', 
						src: 'assets/dinosauria/Normal-NR-OrnithiscianHips.png', 
						hover: 'assets/dinosauria/hover-NR-OrnithiscianHips.png', 
						selected: 'assets/dinosauria/selected-NR-OrnithiscianHips.png', 
						zindex: 5
					},
					{ 
						id: 'hadrosaurs', 
						name: 'Hadrosaurs', 
						src: 'assets/dinosauria/Normal-NR-Hadrosaurs.png', 
						hover: 'assets/dinosauria/hover-NR-Hadrosaurs.png', 
						selected: 'assets/dinosauria/selected-NR-Hadrosaurs.png', 
						zindex: 4
					},
					{ 
						id: 'ceratopsians', 
						name: 'Ceratopsians', 
						src: 'assets/dinosauria/Normal-NR-Ceratopsians.png', 
						hover: 'assets/dinosauria/hover-NR-Ceratopsians.png', 
						selected: 'assets/dinosauria/selected-NR-Ceratopsians.png', 
						zindex: 3
					},
					{ 
						id: 'ankylosaurs', 
						name: 'Ankylosaurs', 
						src: 'assets/dinosauria/Normal-NR-Ankylosaurs.png', 
						hover: 'assets/dinosauria/hover-NR-Ankylosaurs.png', 
						selected: 'assets/dinosauria/selected-NR-Ankylosaurs.png', 
						zindex: 2
					},
					{ 
						id: 'tree', 
						name: 'Dinosauria Tree', 
						src: 'assets/dinosauria/Normal-NR-Tree.png', 
						hover: 'assets/dinosauria/Normal-NR-Tree.png', 
						selected: 'assets/dinosauria/Normal-NR-Tree.png', 
						zindex: 1, 
						fixed: true, 
						x:0, 
						y:0
					}
                ],
                matches: [
                    { piece: "tree", x: -245 , y: -151 },
                    { piece: "tree", x: 252 , y: -151 }, 
                    { piece: "tree", x: -360 , y: -151 },
                    { piece: "tree", x: -303 , y: 50 },
                    { piece: "tree", x: 125 , y: 50 },
                    { piece: "tree", x: -102 , y: -151 }, 
                    { piece: "tree", x: 15 , y: -151 },
                    { piece: "tree", x: 375 , y: -151 },
                    { piece: "tree", x: 139 , y: -151 }
                ],
                success: [
                    [ 
                        { piece: "theropods", x: 0, y:0 },     
                        { piece: "tree", x: -245 , y: -151 } 
                    ],
                    [ 
                        { piece: "stegasaurs", x: 0, y:0 },     
                        { piece: "tree", x: 252 , y: -151 } 
                    ],
                    [ 
                        { piece: "sauropods", x: 0, y:0 },     
                        { piece: "tree", x: -360 , y: -151 } 
                    ],
                    [ 
                        { piece: "saurischian-hips", x: 0, y:0 },     
                        { piece: "tree", x: -303 , y: 50 } 
                    ],
                    [ 
                        { piece: "ornithiscian-hips", x: 0, y:0 },     
                        { piece: "tree", x: 125 , y: 50 } 
                    ],
                    [ 
                        { piece: "hadrosaurs", x: 0, y:0 },     
                        { piece: "tree", x: -102 , y: -151 } 
                    ],
                    [ 
                        { piece: "ceratopsians", x: 0, y:0 },     
                        { piece: "tree", x: 15 , y: -151 } 
                    ],
                    [ 
                        { piece: "ankylosaurs", x: 0, y:0 },     
                        { piece: "tree", x: 375 , y: -151 } 
                    ],
                    [ 
                        { piece: "pachycephalosaurs", x: 0, y:0 },     
                        { piece: "tree", x: 139 , y: -151 } 
                    ]
                ]
            };
            
            
            DinosauriaHighRes = DinosauraPuzzle;
            DinosauriaHighRes.background = { id : "background", src : "assets/dinosauria/background1.gif" };
            DinosauriaHighRes.pieces = [
                { id: 'theropods', name: 'Theropods', src: 'assets/dinosauria/Normal-HR-Theropods.png', hover: 'assets/dinosauria/hover-HR-Theropods.png', selected: 'assets/dinosauria/selected-HR-Theropods.png', zindex: 10 },
				{ id: 'stegasaurs', name: 'Stegasaurs', src: 'assets/dinosauria/Normal-HR-Stegasaurs.png', hover: 'assets/dinosauria/hover-HR-Stegasaurs.png', selected: 'assets/dinosauria/selected-HR-Stegasaurs.png', zindex: 9 },
				{ id: 'sauropods', name: 'Sauropods', src: 'assets/dinosauria/Normal-HR-Sauropods.png', hover: 'assets/dinosauria/hover-HR-Sauropods.png', selected: 'assets/dinosauria/selected-HR-Sauropods.png', zindex: 8 },
				{ id: 'saurischian-hips', name: 'SaurischianHips', src: 'assets/dinosauria/Normal-HR-SaurischianHips.png', hover: 'assets/dinosauria/hover-HR-SaurischianHips.png', selected: 'assets/dinosauria/selected-HR-SaurischianHips.png', zindex: 7 },
				{ id: 'pachycephalosaurs', name: 'Pachycephalosaurs', src: 'assets/dinosauria/Normal-HR-Pachycephalosaurs.png', hover: 'assets/dinosauria/hover-HR-Pachycephalosaurs.png', selected: 'assets/dinosauria/selected-HR-Pachycephalosaurs.png', zindex: 6 },
				{ id: 'ornithiscian-hips', name: 'OrnithiscianHips', src: 'assets/dinosauria/Normal-HR-OrnithiscianHips.png', hover: 'assets/dinosauria/hover-HR-OrnithiscianHips.png', selected: 'assets/dinosauria/selected-HR-OrnithiscianHips.png', zindex: 5 },
				{ id: 'hadrosaurs', name: 'Hadrosaurs', src: 'assets/dinosauria/Normal-HR-Hadrosaurs.png', hover: 'assets/dinosauria/hover-HR-Hadrosaurs.png', selected: 'assets/dinosauria/selected-HR-Hadrosaurs.png', zindex: 4 },
				{ id: 'ceratopsians', name: 'Ceratopsians', src: 'assets/dinosauria/Normal-HR-Ceratopsians.png', hover: 'assets/dinosauria/hover-HR-Ceratopsians.png', selected: 'assets/dinosauria/selected-HR-Ceratopsians.png', zindex: 3 },
				{ id: 'ankylosaurs', name: 'Ankylosaurs', src: 'assets/dinosauria/Normal-HR-Ankylosaurs.png', hover: 'assets/dinosauria/hover-HR-Ankylosaurs.png', selected: 'assets/dinosauria/selected-HR-Ankylosaurs.png', zindex: 2 },
				{ id: 'tree', name: 'Dinosaura Tree', src: 'assets/dinosauria/Normal-HR-Tree.png', hover: 'assets/dinosauria/Normal-HR-Tree.png', selected: 'assets/dinosauria/Normal-HR-Tree.png', zindex: 1, fixed: true, x:0, y:0 }
            ];
            
			
            var Parasaurolophus = {
				title: "Parasaurolophus",
				instructionText: "Move each piece into its corresponding place on the Dinosauria Tree.",
				instructionGif: "assets/tyrannosaurus/instructions.gif",
				instructionMouse: "assets/parasaurolophus/mouse-gestures.png",
				instructionTouch: "assets/dinosauria/touch-gestures.png",
                background: { id : "background", src : "assets/tyrannosaurus/background.jpg" },
                hint: { id : "hint", src: "assets/parasaurolophus/Hint-LR.png" },
                sounds: [
                    { id: "snap", mp3 : "assets/trex/sounds/snap3.mp3", ogg : "assets/trex/sounds/snap3.ogg" },
                    { id: "success", mp3 : "assets/trex/sounds/Dinosaur_Growl.mp3", ogg : "assets/trex/sounds/Dinosaur_Growl.ogg" }
                ],
                pieces: [
                    { id: 'cervical', name: 'Cervical', src: 'assets/parasaurolophus/Cervical-LR.png', hover: 'assets/parasaurolophus/Cervical-LR-H.png', selected: 'assets/parasaurolophus/Cervical-LR-S.png', zindex: 4 },
                    { id: 'dorsal', name: 'Dorsal', src: 'assets/parasaurolophus/Dorsal-LR.png', hover: 'assets/parasaurolophus/Dorsal-LR-H.png', selected: 'assets/parasaurolophus/Dorsal-LR-S.png', zindex: 5 },
                    { id: 'gastracia', name: 'Gastracia', src: 'assets/parasaurolophus/Gastracia-LR.png', hover: 'assets/parasaurolophus/Gastracia-LR-H.png', selected: 'assets/parasaurolophus/Gastracia-LR-S.png', zindex: 2 },
                    { id: 'hip', name: 'Hip', src: 'assets/parasaurolophus/Hip-LR.png', hover: 'assets/parasaurolophus/Hip-LR-H.png', selected: 'assets/parasaurolophus/Hip-LR-S.png', zindex: 7, fixed: true, x: 459 , y: 141  },
                    { id: 'left-arm', name: 'Left Arm', src: 'assets/parasaurolophus/LeftArm-LR.png', hover: 'assets/parasaurolophus/LeftArm-LR-H.png', selected: 'assets/parasaurolophus/LeftArm-LR-S.png', zindex: 10 },
                    { id: 'left-leg', name: 'Left Leg', src: 'assets/parasaurolophus/LeftLeg-LR.png', hover: 'assets/parasaurolophus/LeftLeg-LR-H.png', selected: 'assets/parasaurolophus/LeftLeg-LR-S.png', zindex: 8 },
                    { id: 'ribs', name: 'Ribs', src: 'assets/parasaurolophus/Ribs-LR.png', hover: 'assets/parasaurolophus/Ribs-LR-H.png', selected: 'assets/parasaurolophus/Ribs-LR-S.png', zindex: 9 },
                    { id: 'right-arm', name: 'Right Arm', src: 'assets/parasaurolophus/RightArm-LR.png', hover: 'assets/parasaurolophus/RightArm-LR-H.png', selected: 'assets/parasaurolophus/RightArm-LR-S.png', zindex: 1 },
                    { id: 'right-leg', name: 'Right Leg', src: 'assets/parasaurolophus/RightLeg-LR.png', hover: 'assets/parasaurolophus/RightLeg-LR-H.png', selected: 'assets/parasaurolophus/RightLeg-LR-S.png', zindex: 3 },
                    { id: 'skull', name: 'Skull', src: 'assets/parasaurolophus/Skull-LR.png', hover: 'assets/parasaurolophus/Skull-LR-H.png', selected: 'assets/parasaurolophus/Skull-LR-S.png', zindex: 11 },
                    { id: 'tail', name: 'Tail', src: 'assets/parasaurolophus/Tail-LR.png', hover: 'assets/parasaurolophus/Tail-LR-H.png', selected: 'assets/parasaurolophus/Tail-LR-S.png', zindex: 6 }
                ],
                matches: [
                    [ 
                        { piece: "cervical", x: -44, y:-34 },     
                        { piece: "skull", x: -3 , y: 18 } 
                    ],
                    [ 
                        { piece: "cervical", x: 47, y:5 },     
                        { piece: "dorsal", x: -66 , y: 47 } 
                    ],
                    [ 
                        { piece: "dorsal", x: -12, y:-7 },     
                        { piece: "ribs", x: -13 , y: -52 } 
                    ],
                    [ 
                        { piece: "gastracia", x: 26, y:-3 },     
                        { piece: "ribs", x: -8 , y: 73 } 
                    ],
                    [ 
                        { piece: "right-arm", x: 64, y:-88 },     
                        { piece: "ribs", x: -10 , y: 0 } 
                    ],
                    [ 
                        { piece: "left-arm", x: 40, y:-88 },     
                        { piece: "ribs", x: -11 , y: 0 } 
                    ],
                    [ 
                        { piece: "dorsal", x: 88, y:-14 },     
                        { piece: "hip", x: -62 , y: -3 } 
                    ],
                    [ 
                        { piece: "left-leg", x: 88, y:-101 },     
                        { piece: "hip", x: -22 , y: 0 } 
                    ],
                    [ 
                        { piece: "right-leg", x: -33, y:-122 },     
                        { piece: "hip", x: -23 , y: 0 } 
                    ],
                    [ 
                        { piece: "tail", x: -182, y: 6 },     
                        { piece: "hip", x: 23 , y: -21 } 
                    ]
                ]
            };


			var ParasaurolophusHighRes = Parasaurolophus;
			ParasaurolophusHighRes.background = { id : "background", src : "assets/trex/HighRes/background.jpg" };
			ParasaurolophusHighRes.hint = { id : "hint", src: "assets/parasaurolophus/hint-HR.jpg" };
			ParasaurolophusHighRes.pieces = [
				    { id: 'cervical', name: 'Cervical', src: 'assets/parasaurolophus/Cervical-HR.png', hover: 'assets/parasaurolophus/Cervical-HR-H.png', selected: 'assets/parasaurolophus/Cervical-HR-S.png', zindex: 4 },
                    { id: 'dorsal', name: 'Dorsal', src: 'assets/parasaurolophus/Dorsal-HR.png', hover: 'assets/parasaurolophus/Dorsal-HR-H.png', selected: 'assets/parasaurolophus/Dorsal-HR-S.png', zindex: 5 },
                    { id: 'gastracia', name: 'Gastracia', src: 'assets/parasaurolophus/Gastracia-HR.png', hover: 'assets/parasaurolophus/Gastracia-HR-H.png', selected: 'assets/parasaurolophus/Gastracia-HR-S.png', zindex: 2 },
                    { id: 'hip', name: 'Hip', src: 'assets/parasaurolophus/Hip-HR.png', hover: 'assets/parasaurolophus/Hip-HR-H.png', selected: 'assets/parasaurolophus/Hip-HR-S.png', zindex: 7, fixed: true, x: 918 , y: 282  },
                    { id: 'left-arm', name: 'Left Arm', src: 'assets/parasaurolophus/LeftArm-HR.png', hover: 'assets/parasaurolophus/LeftArm-HR-H.png', selected: 'assets/parasaurolophus/LeftArm-HR-S.png', zindex: 10 },
                    { id: 'left-leg', name: 'Left Leg', src: 'assets/parasaurolophus/LeftLeg-HR.png', hover: 'assets/parasaurolophus/LeftLeg-HR-H.png', selected: 'assets/parasaurolophus/LeftLeg-HR-S.png', zindex: 8 },
                    { id: 'ribs', name: 'Ribs', src: 'assets/parasaurolophus/Ribs-HR.png', hover: 'assets/parasaurolophus/Ribs-HR-H.png', selected: 'assets/parasaurolophus/Ribs-HR-S.png', zindex: 9 },
                    { id: 'right-arm', name: 'Right Arm', src: 'assets/parasaurolophus/RightArm-HR.png', hover: 'assets/parasaurolophus/RightArm-HR-H.png', selected: 'assets/parasaurolophus/RightArm-HR-S.png', zindex: 1 },
                    { id: 'right-leg', name: 'Right Leg', src: 'assets/parasaurolophus/RightLeg-HR.png', hover: 'assets/parasaurolophus/RightLeg-HR-H.png', selected: 'assets/parasaurolophus/RightLeg-HR-S.png', zindex: 3 },
                    { id: 'skull', name: 'Skull', src: 'assets/parasaurolophus/Skull-HR.png', hover: 'assets/parasaurolophus/Skull-HR-H.png', selected: 'assets/parasaurolophus/Skull-HR-S.png', zindex: 11 },
                    { id: 'tail', name: 'Tail', src: 'assets/parasaurolophus/Tail-HR.png', hover: 'assets/parasaurolophus/Tail-HR-H.png', selected: 'assets/parasaurolophus/Tail-HR-S.png', zindex: 6 }
			];

			var TrexPuzzle = {
				background: { id : "background", src : "assets/tyrannosaurus/background.jpg" },
				hint: { id : "hint", src: "assets/trex/LowRes/hint.png" },
				sounds: [
					{ id: "snap", mp3 : "assets/trex/sounds/snap3.mp3", ogg : "assets/trex/sounds/snap3.ogg" },
					{ id: "success", mp3 : "assets/trex/sounds/Dinosaur_Growl.mp3", ogg : "assets/trex/sounds/Dinosaur_Growl.ogg" }
				],
				pieces: [
					{ id: "cervical", 	name: "Cervical", src: "assets/trex/LowRes/N-Cervical.png", hover: "assets/trex/LowRes/H-Cervical.png", selected: "assets/trex/LowRes/S-Cervical.png", zindex: 11 },
					{ id: "dorsal", 		name: "Dorsal", src: "assets/trex/LowRes/N-Dorsal.png", hover: "assets/trex/LowRes/H-Dorsal.png", selected: "assets/trex/LowRes/S-Dorsal.png", zindex: 5 },
					{ id: "gastracia", 	name: "Gastracia", src: "assets/trex/LowRes/N-Gastracia.png", hover: "assets/trex/LowRes/H-Gastracia.png", selected: "assets/trex/LowRes/S-Gastracia.png", zindex: 4 },
					{ id: "hip", 		name: "Hip", src: "assets/trex/LowRes/N-Hip.png", hover: "assets/trex/LowRes/H-Hip.png", selected: "assets/trex/LowRes/S-Hip.png", fixed: true, x: 400, y: 185, zindex: 7 },
					{ id: "left-arm", 	name: "Left Arm", src: "assets/trex/LowRes/N-LArm.png", hover: "assets/trex/LowRes/H-LArm.png", selected: "assets/trex/LowRes/S-LArm.png", zindex: 12  },
					{ id: "left-leg", 	name: "Left Leg", src: "assets/trex/LowRes/N-LLeg.png", hover: "assets/trex/LowRes/H-LLeg.png", selected: "assets/trex/LowRes/S-LLeg.png", zindex: 10 },
					{ id: "lower-jaw", 	name: "Lower Jaw", src: "assets/trex/LowRes/N-LowerJaw.png", hover: "assets/trex/LowRes/H-LowerJaw.png", selected: "assets/trex/LowRes/S-LowerJaw.png", zindex: 13 },
					{ id: "right-arm", 	name: "Right Arm", src: "assets/trex/LowRes/N-RArm.png", hover: "assets/trex/LowRes/H-RArm.png", selected: "assets/trex/LowRes/S-RArm.png", zindex: 1 },
					{ id: "ribs", 			name: "Ribs", src: "assets/trex/LowRes/N-Ribs.png", hover: "assets/trex/LowRes/H-Ribs.png", selected: "assets/trex/LowRes/S-Ribs.png", zindex: 6 },
					{ id: "right-leg", 	name: "Right Leg", src: "assets/trex/LowRes/N-Rleg.png", hover: "assets/trex/LowRes/H-Rleg.png", selected: "assets/trex/LowRes/S-Rleg.png", zindex: 2  },
					{ id: "skull", 			name: "Skull", src: "assets/trex/LowRes/N-Skull.png", hover: "assets/trex/LowRes/H-Skull.png", selected: "assets/trex/LowRes/S-Skull.png", zindex:14  },
					{ id: "tail", 			name: "Tail", src: "assets/trex/LowRes/N-Tail.png", hover: "assets/trex/LowRes/H-Tail.png", selected: "assets/trex/LowRes/S-Tail.png", zindex: 3 }
				],
				matches: [
					[ 
						{ piece: "skull", x: 44, y:1 }, 	
						{ piece: "lower-jaw", x: 20 , y: -35 } 
					],
					[ 
						{ piece: "skull", 		x: 45, 	y: -25 }, 	
						{ piece: "cervical", 	x: -36, 	y: -17 } 
					],
							[ 
								{ piece: "cervical", x: 29, 	y: 18 }, 	
								{ piece: "ribs", 	x: -70, 	y: -22} 
							],
							[ 
								{ piece: "cervical", x: 26, 	y: -2 }, 	
								{ piece: "dorsal", 	x: -79, 	y: -4 } 
							],
							[ 
								{ piece: "dorsal", x: -14, 	y: -5 }, 	
								{ piece: "ribs", 	x: -8, 	y: -43 } 
							],
							[ 
								{ piece: "dorsal", x: -27,  y: -2 }, 	
								{ piece: "left-arm", 	x: 23, 	y: -56 } 
							],
							[ 
								{ piece: "dorsal", x: -27, 	y: -3 }, 	
								{ piece: "right-arm", 	x: 31, 	y: -45 } 
							],
							[ 
								{ piece: "hip", x: -44, 	y: -58}, 	
								{ piece: "dorsal", 	x: 71, 	y: -11 } 
							],
							[ 
								{ piece: "hip", x: -4, 	y: -25 }, 	
								{ piece: "left-leg", 	x: -63, 	y: -105 } 
							],
							[ 
								{ piece: "hip", x: -5, 	y: -26 }, 	
								{ piece: "right-leg", 	x: 22, 	y: -88 } 
							],
							[ 
								{ piece: "hip", x: -60, 	y: 59 }, 	
								{ piece: "gastracia", x: 61, 	y: 22 } 
							],
							[ 
								{ piece: "hip", x: 38, 	y: -23 }, 	
								{ piece: "tail", 	x: -194, 	y: 7} 
							]
				]
			};

			
			var HighResTrexPuzzle = {
				title: "Tyrannosaurus Puzzle",
				instructionText: "The hips of the tyrannosaurus are in place, move and rotate the other pieces in to place to rebuild the Tyrannosaurus.",
				instructionGif: "assets/tyrannosaurus/instructions.gif",
				instructionMouse: "assets/trex/mouse-gestures.png",
				instructionTouch: "assets/dinosauria/touch-gestures.png",
				background: { id : "background", src : "assets/trex/HighRes/background.jpg" },
				hint: { id : "hint", src: "assets/trex/HighRes/hint.jpg" },
				sounds: [
					{ id: "snap", mp3 : "assets/trex/sounds/snap3.mp3", ogg : "assets/trex/sounds/snap3.ogg" },
					{ id: "success", mp3 : "assets/trex/sounds/Dinosaur_Growl.mp3", ogg : "assets/trex/sounds/Dinosaur_Growl.ogg" }
				],
				pieces: [
					{ id: "cervical", 	name: "Cervical", src: "assets/trex/HighRes/N-Cervical.png", hover: "assets/trex/HighRes/H-Cervical.png", selected: "assets/trex/HighRes/S-Cervical.png", zindex: 11 },
					{ id: "dorsal", 		name: "Dorsal", src: "assets/trex/HighRes/N-Dorsal.png", hover: "assets/trex/HighRes/H-Dorsal.png", selected: "assets/trex/HighRes/S-Dorsal.png", zindex: 5},
					{ id: "gastracia", 	name: "Gastracia", src: "assets/trex/HighRes/N-Gastracia.png", hover: "assets/trex/HighRes/H-Gastracia.png", selected: "assets/trex/HighRes/S-Gastracia.png", zindex: 4},
					{ id: "hip", 				name: "Hip", src: "assets/trex/HighRes/N-Hip.png", hover: "assets/trex/HighRes/H-Hip.png", selected: "assets/trex/HighRes/S-Hip.png", fixed: true, x: 800, y: 390, zindex: 7},
					{ id: "left-arm", 	name: "Left Arm", src: "assets/trex/HighRes/N-LeftArm.png", hover: "assets/trex/HighRes/H-LeftArm.png", selected: "assets/trex/HighRes/S-LeftArm.png", zindex: 12 },
					{ id: "left-leg", 	name: "Left Leg", src: "assets/trex/HighRes/N-LeftLeg.png", hover: "assets/trex/HighRes/H-LeftLeg.png", selected: "assets/trex/HighRes/S-LeftLeg.png", zindex: 10},
					{ id: "lower-jaw", 	name: "Lower Jaw", src: "assets/trex/HighRes/N-lowerjaw.png", hover: "assets/trex/HighRes/H-lowerjaw.png", selected: "assets/trex/HighRes/S-lowerjaw.png", zindex: 13 },
					{ id: "right-arm", 	name: "Right Arm", src: "assets/trex/HighRes/N-RightArm.png", hover: "assets/trex/HighRes/H-RightArm.png", selected: "assets/trex/HighRes/S-RightArm.png", zindex: 1  },
					{ id: "ribs", 			name: "Ribs", src: "assets/trex/HighRes/N-Ribs.png", hover: "assets/trex/HighRes/H-Ribs.png", selected: "assets/trex/HighRes/S-Ribs.png", zindex: 6 },
					{ id: "right-leg", 	name: "Right Leg", src: "assets/trex/HighRes/N-RightLeg.png", hover: "assets/trex/HighRes/H-RightLeg.png", selected: "assets/trex/HighRes/S-RightLeg.png", zindex: 2  },
					{ id: "skull", 			name: "Skull", src: "assets/trex/HighRes/N-skull.png", hover: "assets/trex/HighRes/H-skull.png", selected: "assets/trex/HighRes/S-skull.png", zindex:14  },
					{ id: "tail", 			name: "Tail", src: "assets/trex/HighRes/N-Tail.png", hover: "assets/trex/HighRes/H-Tail.png", selected: "assets/trex/HighRes/S-Tail.png", zindex: 3 }
				],
				matches: [
					[ 
						{ piece: "skull", x: 44, y:1 }, 	
						{ piece: "lower-jaw", x: 20 , y: -35 } 
					],
					[ 
						{ piece: "skull", 		x: 45, 	y: -25 }, 	
						{ piece: "cervical", 	x: -36, 	y: -17 } 
					],
					[ 
						{ piece: "cervical", x: 29, 	y: 18 }, 	
						{ piece: "ribs", 	x: -70, 	y: -22} 
					],
					[ 
						{ piece: "cervical", x: 26, 	y: -2 }, 	
						{ piece: "dorsal", 	x: -79, 	y: -4 } 
					],
					[ 
						{ piece: "dorsal", x: -14, 	y: -5 }, 	
						{ piece: "ribs", 	x: -8, 	y: -43 } 
					],
					[ 
						{ piece: "dorsal", x: -27,  y: -2 }, 	
						{ piece: "left-arm", 	x: 23, 	y: -56 } 
					],
					[ 
						{ piece: "dorsal", x: -27, 	y: -3 }, 	
						{ piece: "right-arm", 	x: 31, 	y: -45 } 
					],
					[ 
						{ piece: "hip", x: -44, 	y: -58}, 	
						{ piece: "dorsal", 	x: 71, 	y: -11 } 
					],
					[ 
						{ piece: "hip", x: -4, 	y: -25 }, 	
						{ piece: "left-leg", 	x: -63, 	y: -105 } 
					],
					[ 
						{ piece: "hip", x: -5, 	y: -26 }, 	
						{ piece: "right-leg", 	x: 22, 	y: -88 } 
					],
					[ 
						{ piece: "hip", x: -60, 	y: 59 }, 	
						{ piece: "gastracia", x: 61, 	y: 22 } 
					],
					[ 
						{ piece: "hip", x: 38, 	y: -23 }, 	
						{ piece: "tail", 	x: -194, 	y: 7} 
					]
				]
			};
			
			for(var i = 0; i < HighResTrexPuzzle.matches.length; i++) {
				var m = HighResTrexPuzzle.matches[i];
				m[0].x = m[0].x*2;
				m[0].y = m[0].y*2;
				m[1].x = m[1].x*2;
				m[1].y = m[1].y*2;
			}

			for(var i = 0; i < ParasaurolophusHighRes.matches.length; i++) {
				var m = ParasaurolophusHighRes.matches[i];
				m[0].x = m[0].x*2;
				m[0].y = m[0].y*2;
				m[1].x = m[1].x*2;
				m[1].y = m[1].y*2;
			}

			for(var i = 0; i < DinosauriaHighRes.matches.length; i++) {
				var m = DinosauriaHighRes.matches[i];
				m.x = m.x*2;
				m.y = m.y*2;
			}
			
			for(var i = 0; i < DinosauriaHighRes.success.length; i++) {
				var m = DinosauriaHighRes.success[i];
				m[0].x = m[0].x*2;
				m[0].y = m[0].y*2;
				m[1].x = m[1].x*2;
				m[1].y = m[1].y*2;
			}
			
			//$('body').append('<pre>'+JSON.stringify(HighResTrexPuzzle)+'</pre>');
			window.puzzle = new Puzzle(ParasaurolophusHighRes);

			/*
			loader.progressChange.attach(function(sender,args) {
				var e = args.event;
				var amountLoaded = Math.round(e.loaded*100);
				progressBar.style.width = amountLoaded+"%";
				progressBar.style.opacity = e.loaded;
			});
			
			
			loader.puzzleLoaded.attach(function(sender,args) {
				startButton.innerText = "Get Started";
				startButton.className = "btn btn-start btn-enabled";
				loadingLabel.innerText = "Loading complete";
			});
			
			
			startButton.onclick = function(event) {
				holder.className = "canvasHolder started";
				holder.style.width = '100%';
				
				loader.handlePuzzleLoad();
				
				loader.getPuzzleView().resizePuzzle(window.innerWidth, window.innerHeight);
				if(!fullScreenApi.supportsFullScreen || true) { // get rid of true for detection
					fstoggle.style.display = "none";
				}
				
			};
			*/
			
			/*
				window.onresize = function(event) {
					holder.style.width = window.innerWidth+'px';
					loader.getPuzzleView().resizePuzzle(window.innerWidth, window.innerHeight);
				}
			*/
				
			/*
			fstoggle.onclick = function() {
    			if (RunPrefixMethod(document, "FullScreen") || RunPrefixMethod(document, "IsFullScreen")) {
    				RunPrefixMethod(document, "CancelFullScreen");
    			}
    			else {
    				RunPrefixMethod(holder, "RequestFullScreen");
    			}
			};
			*/
		});
        		
      		
        </script>
    </body>
</html>
